<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gym-Wale | Trainer Login</title>
  <link rel="stylesheet" href="trainer-login.css" />
</head>
<body>
  <div class="login-wrapper">
    <div class="login-card" id="trainerLoginCard">
      <div class="secure-badge">SECURE</div>
      <div class="brand-inline" style="display:flex;align-items:center;gap:.85rem;margin:0 0 1.25rem;">
        <div class="logo-wrap" style="flex-shrink:0;display:flex;align-items:center;justify-content:center;width:72px;height:72px;border-radius:18px;box-shadow:0 6px 18px -4px rgba(0,0,0,.25);overflow:hidden;">
          <img src="../gymadmin/public/Gym-Wale.png" alt="Gym-Wale Logo" style="width:64px;height:64px;object-fit:cover;border-radius:14px;" />
        </div>
        <div class="brand-text" style="display:flex;flex-direction:column;">
          <h1 style="margin:0;font-size:1.95rem;letter-spacing:.6px;font-weight:750;background:linear-gradient(135deg,var(--primary),var(--secondary));background-clip:text;-webkit-background-clip:text;color:transparent;">Gym-Wale</h1>
          <span class="tagline" style="font-size:.78rem;color:var(--text-secondary);letter-spacing:.45px;font-weight:500;margin-top:.25rem;">Trainer Access Portal</span>
        </div>
      </div>
      <h2 style="margin-top:0;">Trainer Login</h2>
      <p class="subtitle" style="margin-top:-.3rem;">Access your trainer dashboard after approval & verification.</p>
    <div class="toggle-auth" aria-label="Login using email or phone">
      <button type="button" id="toggleEmail" class="active">Email</button>
      <button type="button" id="togglePhone">Phone</button>
    </div>
    <form id="trainerLoginForm" novalidate>
      <div class="field" id="emailField">
        <label for="email">Email</label>
        <input type="email" id="email" autocomplete="email" placeholder="you@example.com" required />
      </div>
      <div class="field" id="phoneField" style="display:none;">
        <label for="phone">Phone</label>
        <input type="tel" id="phone" autocomplete="tel" placeholder="10-digit mobile" pattern="[0-9]{10}" />
      </div>
      <div class="field">
        <label for="password">Password</label>
        <input type="password" id="password" autocomplete="current-password" placeholder="••••••••" minlength="6" required />
      </div>
      <div style="text-align:right;margin-top:-.6rem;margin-bottom:.6rem;">
        <button type="button" id="forgotPasswordTrigger" style="background:none;border:none;color:var(--primary);font-size:.65rem;font-weight:600;cursor:pointer;padding:0;">Forgot password?</button>
      </div>
      <div class="status" id="statusArea"></div>
      <div class="actions">
        <button type="submit" class="btn-primary" id="loginBtn">Login</button>
        <button type="button" class="btn-secondary" id="goDashboardBtn" style="display:none;">Go to Dashboard</button>
      </div>
    </form>
      <div class="divider"></div>
      <footer>&copy; <span id="year"></span> Gym-Wale Trainers • Secure Portal</footer>
    </div>
  </div>
  <!-- Forgot Password Modal -->
  <div id="forgotPasswordModal" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.55);z-index:500;">
    <div style="background:var(--card-bg,#fff);width:100%;max-width:440px;padding:2rem 1.9rem;border-radius:20px;box-shadow:0 10px 40px -10px rgba(0,0,0,.35);position:relative;">
      <button type="button" id="closeForgotModal" style="position:absolute;top:10px;right:12px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:50%;width:34px;height:34px;cursor:pointer;font-weight:700;color:var(--text-secondary);">✕</button>
      <h3 style="margin:0 0 .75rem;font-size:1.1rem;font-weight:700;color:var(--primary);letter-spacing:.5px;">Reset Trainer Password</h3>
      <p style="margin:0 0 1.2rem;font-size:.72rem;color:var(--text-secondary);line-height:1.4;">Follow the 3 quick steps below to securely reset your password. OTP is valid for 10 minutes.</p>
      <div id="fpStepSend" data-step="send">
        <label style="display:block;font-size:.6rem;font-weight:700;letter-spacing:.8px;color:var(--text-secondary);margin:0 0 .4rem;">Email or Phone</label>
        <div style="display:flex;gap:.5rem;">
          <input type="text" id="fpIdentifier" placeholder="you@example.com OR 10-digit phone" style="flex:1;padding:.75rem .85rem;border:1px solid var(--border-color);border-radius:10px;background:var(--bg-secondary);" />
          <button type="button" id="fpSendBtn" class="btn-primary" style="min-width:120px;font-size:.7rem;padding:.75rem .9rem;">Send OTP</button>
        </div>
      </div>
      <div id="fpStepVerify" data-step="verify" style="display:none;margin-top:1.3rem;">
        <label style="display:block;font-size:.6rem;font-weight:700;letter-spacing:.8px;color:var(--text-secondary);margin:0 0 .4rem;">Enter OTP</label>
        <div style="display:flex;gap:.5rem;">
          <input type="text" id="fpOTP" placeholder="6-digit OTP" maxlength="6" style="flex:1;padding:.75rem .85rem;border:1px solid var(--border-color);border-radius:10px;background:var(--bg-secondary);letter-spacing:3px;text-align:center;font-weight:600;" />
          <button type="button" id="fpVerifyBtn" class="btn-primary" style="min-width:120px;font-size:.7rem;padding:.75rem .9rem;">Verify OTP</button>
        </div>
        <div style="margin-top:.55rem;font-size:.6rem;color:var(--text-secondary);"><button type="button" id="fpResendBtn" style="background:none;border:none;color:var(--primary);cursor:pointer;font-weight:600;padding:0;">Resend OTP</button></div>
      </div>
      <div id="fpStepReset" data-step="reset" style="display:none;margin-top:1.3rem;">
        <form id="fpResetForm" novalidate onsubmit="return false;">
          <!-- Hidden username field for accessibility/password managers -->
          <input type="text" name="username" autocomplete="username" value="" tabindex="-1" aria-hidden="true" style="position:absolute;left:-9999px;width:1px;height:1px;opacity:0;" />
          <label for="fpNewPassword" style="display:block;font-size:.6rem;font-weight:700;letter-spacing:.8px;color:var(--text-secondary);margin:0 0 .4rem;">New Password</label>
          <input type="password" id="fpNewPassword" name="new-password" autocomplete="new-password" placeholder="New secure password" minlength="6" style="width:100%;padding:.75rem .85rem;border:1px solid var(--border-color);border-radius:10px;background:var(--bg-secondary);margin-bottom:.85rem;" />
          <button type="button" id="fpResetBtn" class="btn-primary" style="width:100%;font-size:.78rem;padding:.85rem .9rem;">Update Password</button>
        </form>
      </div>
      <div id="fpStatus" style="min-height:22px;margin-top:1rem;font-size:.62rem;font-weight:600;letter-spacing:.5px;"></div>
      <div style="margin-top:1.1rem;text-align:center;">
        <button type="button" id="fpBackToLogin" style="display:none;background:none;border:none;color:var(--primary);font-size:.65rem;font-weight:600;cursor:pointer;">Back to Login</button>
      </div>
    </div>
  </div>
  <!-- IMPORTANT: Load centralized config FIRST -->
    <script src="../config.js"></script>
    <script src="trainer-login.js" defer></script>
</body>
</html>
